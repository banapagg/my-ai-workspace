# my-ai-workspace

AI エージェント開発のための統合ワークスペース

## 構造

```
my-ai-workspace/
├── CLAUDE.md              # グローバルCLAUDE.md（全プロジェクト共通の基本ルール）
├── .gitignore
├── setup.sh               # 環境復元用スクリプト
├── global_mcp/            # 全エージェント共通の自作MCPツール
│   ├── browser-tool/
│   └── file-search/
├── projects/              # プロジェクト（案件）ごとのディレクトリ
│   ├── My-Tasks/          # タスク管理システム
│   │   ├── CLAUDE.md      # プロジェクト固有のルール
│   │   └── docs/          # 詳細ドキュメント
│   ├── project_A/
│   │   ├── .env.example
│   │   └── mcp_config.json
│   └── project_B/
└── templates/             # 設定テンプレート
    └── base_config.json
```

## 使い方

### プロジェクトで作業する場合

```bash
cd my-ai-workspace/projects/My-Tasks
claude
```

→ グローバルCLAUDE.md + My-Tasks/CLAUDE.md が適用される

### 新しいプロジェクトを作成

```bash
cd my-ai-workspace/projects
mkdir new-project
cp ../templates/base_config.json new-project/mcp_config.json
# 必要に応じて CLAUDE.md を作成
```

## ルール

- **グローバルCLAUDE.md**: 全プロジェクト共通の基本ルール（対話スタイル、コーディング規約など）
- **プロジェクト固有のCLAUDE.md**: 各プロジェクトの専用ルール（自動化、特定の手順など）
- グローバルルールは常に適用され、プロジェクト固有ルールはそれに追加される

---

## 設計思想（Design Philosophy）

### なぜこの構造なのか

このワークスペースは、AIエージェント（Claude Code）を使った開発を**再現可能**で**保守しやすい**形で管理するために設計されています。

**課題:**
- プロジェクトごとに異なるルールや自動化を定義したい
- 一方で、共通の対話スタイルやコーディング規約は統一したい
- 環境を別マシンやチームメンバーと共有したい

**解決策:**
- グローバルとプロジェクト固有の設定を明確に分離
- Git管理によるバージョン管理と共有
- ディレクトリ単位での作業環境の切り替え

### CLAUDE.mdの階層設計

#### グローバルCLAUDE.md（`my-ai-workspace/CLAUDE.md`）
**役割:** 全プロジェクト共通の基本ルール

**含めるべき内容:**
- 対話スタイル（ですます調、選択肢型の質問など）
- コーディング規約（言語、テスト重視、Don't/Do）
- 技術的な正確性の原則
- 実装ガイドライン

**特徴:**
- **常に適用される**（どのプロジェクトでも有効）
- 汎用的で抽象的なルール
- 頻繁に変更しない安定した内容

#### プロジェクト固有CLAUDE.md（`projects/*/CLAUDE.md`）
**役割:** 特定プロジェクトの専用ルール

**含めるべき内容:**
- プロジェクト固有の自動化（例: GitHub Issues自動追加）
- 特定のワークフロー（例: タスクのマージ手順）
- プロジェクト専用のコマンドやツール
- ドメイン固有のルール

**特徴:**
- **グローバルに追加される**（上書きではなく拡張）
- 具体的で実践的なルール
- プロジェクトの成長に合わせて更新される

#### 階層の動作

```
起動ディレクトリ: my-ai-workspace/projects/My-Tasks/

適用されるルール:
  1. グローバルCLAUDE.md（基本ルール）
     ↓ 常に適用
  2. My-Tasks/CLAUDE.md（追加ルール）
     ↓ グローバルに追加
  3. 統合された指示で動作
```

**重要:** 競合時はプロジェクト固有を優先するが、基本的には「グローバル + プロジェクト固有」の**加算**として機能する。

### ディレクトリ構造の意図

#### `global_mcp/`
**用途:** 全プロジェクトで共有できるMCPツール

**例:**
- ブラウザ自動操作ツール
- 高度なファイル検索ツール
- カスタムAPI連携

**メリット:** 一度開発すれば全プロジェクトで再利用可能

#### `projects/`
**用途:** プロジェクトごとの独立環境

**推奨構造:**
```
projects/プロジェクト名/
├── CLAUDE.md          # プロジェクト固有ルール
├── .env.example       # 環境変数テンプレート
├── mcp_config.json    # MCP設定
├── src/               # ソースコード
└── docs/              # ドキュメント（複雑化した場合）
```

**メリット:** プロジェクトの独立性を保ちながら、共通基盤を共有

#### `templates/`
**用途:** 新規プロジェクト作成時のテンプレート

**含めるもの:**
- `base_config.json`: MCP設定のテンプレート
- `.env.example`: 環境変数のテンプレート
- （将来）`CLAUDE.md.template`: プロジェクト固有CLAUDE.mdのテンプレート

### 使い分けのベストプラクティス

#### いつ新しいプロジェクトを作るか
- 独自の自動化やワークフローが必要な場合
- 異なるドメイン知識が必要な場合（例: Webアプリ開発 vs データ分析）
- 別々にバージョン管理したいコードベースがある場合

#### グローバルに追加すべきルール
- 全プロジェクトで統一したい対話スタイル
- 普遍的なコーディング規約
- セキュリティやエラーハンドリングの基本方針

#### プロジェクト固有に追加すべきルール
- GitHub Issues連携などのプロジェクト専用自動化
- 特定フレームワークの使用ルール
- プロジェクト固有の命名規則や構造

### この設計の利点

1. **再現性:** setup.shで環境を即座に復元可能
2. **保守性:** ルールの変更箇所が明確（グローバル vs プロジェクト固有）
3. **拡張性:** 新規プロジェクトをtemplatesから簡単に作成
4. **共有性:** GitHubで管理し、チームで共有可能
5. **独立性:** プロジェクトごとに異なる設定を持ちながら、共通基盤を共有
